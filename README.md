# Unity-UnitSpawnSystem
Unity spawn system with object pool

<b> Описание организации и структуры кода</b> 
Код основан на ООП и патерне проектирования Singleton. 
Основные синглтоны: Менеджер юнитов, Презентер уровня, Менеджер пула объектов
<b>Классы юнитов: </b> 
	Класс, описывающий пулю (Bullet.cs)
	Класс, описывающий базовые функции юнита (Unit.cs)
	Класс, описывающий юнита дальнего боя (наследуется от класса базового юнита) (RangeUnit.cs)
	Класс, описывающий юнита ближнего боя (наследуется от класса базового юнита) (MeleeUnit.cs)
	Класс, описывающий спавнер юнитов (наследуется от класса базового юнита, предполагается что это здание) (UnitSpawner.cs)
<b>Пулл объектов:</b> 
	Класс объекта пула (PoolObject.cs)
	Класс пула (ObjectPooling.cs)
	Класс обертки, для работы с пулами для разных типов объектов(юнит, пуля, эффект смерти) (PoolManager.cs)
<b>Окружение:</b> 
	Класс, описывающий сетку и ее отображение (LevelPresenter.cs)
<b>Конфиг:</b> 
	Класс UntisConfigData содержит конфиг юнитов для спавнера, описывается с помощью ScriptableObject

<b> Алгоритм работы</b> 
При старте игры все синглтоны инициализируют себя, затем LevelPresenter генерует сетку с заданными параметрами, по окончанию генерации вырабатывается UnityEvent, по которому спавнеры юнитов, расположенные на сцене, цепляются к сетке и начинают создавать юнитов по заданному конфигу. Юниты берутся из пула объектов для оптимизации производительности, если юнита нет в пуле, то происходит его создание. 

Созданный юнит привязывается к сетке, запрашивает юнитов врагов у менеджера юнитов, ищет ближайшего, рассчитывает до него путь по клеткам и двигается.
Дальний юнит останавливается и начинает атаковать цель, если она в радиусе атаки, юнит ближнего боя двигается вплотную к цели и атакует, првоеряя после атаки расстояние до цели.

Созданы минимальные эффекты смерти и анимации атаки.
